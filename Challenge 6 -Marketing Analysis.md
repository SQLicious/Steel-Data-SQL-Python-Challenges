# Marketing Analysis

## Intro
Sustainable Clothing Co. has been running several marketing campaigns. Acting as a Marketing Analyst at 'Sustainable Clothing Co.', I have been asked to provide my insights into whether they have been successful or not. I analyzed the following data and answered the questions to form my answer for this Challenge.

![Case Study Theme](image_file_path.png)
<!-- Insert an image that accurately captures this case study theme -->

## Tables
Here are the tables I created and used in MySQL Workbench 8.0:

![Image 1](https://steeldata.org.uk/sql6tables.png)

## Table Creation:
-- SQL code to create the required tables
```sql
```
## Ad-Hoc Questions and Solutions
### 1. How many transactions were completed during each marketing campaign?
```sql
SELECT  mc.campaign_name,
       COUNT(t.transaction_id) as transaction_count
FROM 
    marketing_campaigns mc
JOIN 
    transactions2 t ON mc.product_id = t.product_id
GROUP BY 
    mc.campaign_name;
```

### 2. Which product had the highest sales quantity?

```sql
SELECT 
    sc.product_name,
    SUM(t.quantity) as total_quantity_sold
FROM 
    sustainable_clothing sc
JOIN 
    transactions2 t ON sc.product_id = t.product_id
GROUP BY 
    sc.product_name
ORDER BY 
    total_quantity_sold DESC
LIMIT 1;
```
### 3. What is the total revenue generated from each marketing campaign?

```sql
SELECT 
    mc.campaign_name,
    ROUND(SUM(t.quantity * sc.price),2) as total_revenue
FROM 
    marketing_campaigns mc
JOIN 
    transactions2 t ON mc.product_id = t.product_id
JOIN 
    sustainable_clothing sc ON mc.product_id = sc.product_id
GROUP BY 
    mc.campaign_name;
```
### 4. What is the top-selling product category based on the total revenue generated?
```sql
SELECT 
    sc.category,
    ROUND(SUM(t.quantity * sc.price),2) as total_revenue
FROM 
    sustainable_clothing sc
JOIN 
    transactions2 t ON sc.product_id = t.product_id
GROUP BY 
    sc.category
ORDER BY 
    total_revenue DESC
LIMIT 1;
```
### 5. Which products had a higher quantity sold compared to the average quantity sold?

```sql
SELECT 
    sc.product_name,
    SUM(t.quantity) as total_quantity_sold
FROM 
    sustainable_clothing sc
JOIN 
    transactions2 t ON sc.product_id = t.product_id
GROUP BY 
    sc.product_name
HAVING 
    total_quantity_sold > (SELECT AVG(quantity) FROM transactions2)
ORDER BY total_quantity_sold DESC;    

```
### 6. What is the average revenue generated per day during the marketing campaigns?

```sql
SELECT 
    mc.campaign_name,
    ROUND(AVG(t.quantity * sc.price),2) as average_daily_revenue
FROM 
    marketing_campaigns mc
JOIN 
    transactions2 t ON mc.product_id = t.product_id
JOIN 
    sustainable_clothing sc ON mc.product_id = sc.product_id
GROUP BY 
    mc.campaign_name
ORDER BY 
    mc.campaign_name;
```
### 7. What is the percentage contribution of each product to the total revenue?

```sql
WITH product_revenue AS (
    SELECT 
        sc.product_name,
        ROUND(SUM(t.quantity * sc.price),2) as total_revenue
    FROM 
        sustainable_clothing sc
    JOIN 
        transactions2 t ON sc.product_id = t.product_id
    GROUP BY 
        sc.product_name
)
SELECT 
    product_name,
    total_revenue,
    ROUND((total_revenue / (SELECT SUM(total_revenue) FROM product_revenue)) * 100,2) as percentage_contribution
FROM 
    product_revenue
ORDER BY 
    total_revenue DESC;
```
### 8. Compare the average quantity sold during marketing campaigns to outside marketing campaigns.

```sql
WITH campaign_quantity AS (
    SELECT mc.campaign_name,
           AVG(t.quantity) as average_quantity_sold
    FROM 
           marketing_campaigns mc
    JOIN 
           transactions2 t ON mc.product_id = t.product_id
    GROUP BY 
           mc.campaign_name
),
outside_campaign_quantity AS (
    SELECT 'Outside Campaigns' as campaign_name,
        AVG(t.quantity) as average_quantity_sold
    FROM 
        transactions2 t
    WHERE 
        t.product_id NOT IN (SELECT product_id FROM marketing_campaigns)
)
SELECT * FROM campaign_quantity
UNION ALL
SELECT * FROM outside_campaign_quantity;
```

### 9. Compare the revenue generated by products inside the marketing campaigns to those outside the campaigns.

```sql
WITH campaign_revenue AS (
    SELECT 
        mc.campaign_name,
        ROUND(SUM(t.quantity * sc.price),2) as total_revenue
    FROM 
        marketing_campaigns mc
    JOIN 
        transactions2 t ON mc.product_id = t.product_id
    JOIN 
        sustainable_clothing sc ON mc.product_id = sc.product_id
    GROUP BY 
        mc.campaign_name
),
outside_campaign_revenue AS (
    SELECT 
        'Outside Campaigns' as campaign_name,
        ROUND(SUM(t.quantity * sc.price),2) as total_revenue
    FROM 
        transactions2 t
    JOIN 
        sustainable_clothing sc ON t.product_id = sc.product_id
    WHERE 
        t.product_id NOT IN (SELECT product_id FROM marketing_campaigns)
)
SELECT * FROM campaign_revenue
UNION ALL
SELECT * FROM outside_campaign_revenue;
```
### 10. Rank the products by their average daily quantity sold.

```sql
WITH product_avg_quantity AS (
    SELECT 
        sc.product_name,
        ROUND(AVG(t.quantity),2) as average_daily_quantity_sold
    FROM 
        transactions2 t
    JOIN 
        sustainable_clothing sc ON t.product_id = sc.product_id
    GROUP BY 
        sc.product_name
)
SELECT * 
FROM product_avg_quantity
ORDER BY average_daily_quantity_sold DESC;
```






